@use '../variables'

$color-back: variables.$back_color
$color-font: variables.$font_color
$accent: variables.$accent
$warn: variables.$warn
$size: variables.$size
$gap: variables.$padding

@mixin stroke()
    stroke-width: 1600
    stroke-linecap: round
    stroke-linejoin: round
    stroke-miterlimit: 2.61313

div#fileArea
    display: flex
    flex-direction: column
    & button#clear
        transition: all 100ms ease-in
        padding: .5em
        color: $color-back
        background-color: mix($color-font, white, 40)
        align-self: flex-end
        margin: 0 1em
        &:hover
            background-color: mix($warn, white, 70)
        &:focus
            background-color: $warn
    & div
        box-sizing: border-box
        align-self: center
        width: 100%
        padding-left: 1em
        padding-right: 1em
        display: flex
        justify-content: flex-end
        padding: 0 .5em
        align-items: center

ul#fileList
    display: flex
    flex-flow: wrap
    align-items: center
    & .card.drag-unit
        position: relative
        box-shadow: 0 1px 3px mix($color-font, white, 40)
        margin: .5em
        transition: opacity 250ms ease-in, box-shadow 250ms ease-in
        cursor: move
        & .options
            display: none
            position: absolute
            top: 0
            right: 0
            cursor: auto
            & ul
                background-color: $color-back
                padding: 5px 0 5px 0
                & li
                    & button
                        width: 100%
                        display: flex
                        align-items: flex-end
                        text-align: left
                        color: mix($color-font, white, 90)
                        & svg
                            margin-right: .5em
                            width: 1.5em
                & li:hover
                    background-color: $accent
                    & button
                        color: $color-back
    &:not(.in-action) .card:hover .options
        display: flex
    &.in-action .card
        &:not(.active)
            transition: transform 250ms cubic-bezier(0.2, 0, 0.2, 1)
        &.active
            z-index: 2000
            opacity: .7
            box-shadow: 0 0px 4px mix($color-font, white, 40)
        &.drag-unit.dropped
            opacity: 1
            z-index: 9000
            transition: transform 250ms cubic-bezier(0.5, 0, 0.2, 1), opacity 200ms ease-in, box-shadow 200ms ease-in

    & button#add
        margin: .5em
        padding: 0
        width: $size
        height: calc( #{$size} * 1.25 )
        font-size: 1em
        & svg
            width: $size
            height: calc( #{$size} * 1.25 )
            & .plus, & .gray-fill
                transition: fill 250ms ease
                fill: mix($color-font, white, 10)
            & .light-fill
                transition: fill 250ms ease
                fill: $color-back
        &:hover svg
            & .plus
                fill: mix($accent, white, 50)
            & .gray-fill
                fill: mix($accent, white, 25)
        &:focus svg
            & .plus
                fill: mix($accent, white, 90)
            & .gray-fill
                fill: mix($accent, white, 50)


@media only screen and (max-width: 1024px)
    ul#fileList
        & button#add
            width: calc( #{$size} * .9 )
            height: calc( (#{$size} * 1.25) * .9 )
            & svg
                width: calc( #{$size} * .9 )
                height: calc( (#{$size} * 1.25) * .9 )

@media only screen and (max-width: 768px)
    ul#fileList
        & button#add
            width: calc( #{$size} * .8 )
            height: calc( (#{$size} * 1.25) * .8 )
            & svg
                width: calc( #{$size} * .8 )
                height: calc( (#{$size} * 1.25) * .8 )

@media only screen and (max-width: 480px)
    ul#fileList
        & button#add
            width: calc( #{$size} * .7 )
            height: calc( (#{$size} * 1.25) * .7 )
            & svg
                width: calc( #{$size} * .7 )
                height: calc( (#{$size} * 1.25) * .7 )
        


@media only screen and (orientation: portrait)
    ul#fileList
        justify-content: center
    div#fileArea div
        justify-content: center

@media (hover: none) and (pointer: coarse)
    ul#fileList .card.drag-unit .options 
        display: flex

    div#fileArea button#clear
        background-color: mix($warn, white, 70)
        
    
